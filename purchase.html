<html>
    <head>
        <title>Comfirmation</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <script src="vendor/jquery/dist/jquery.min.js"></script>
        <script src="vendor/jquery-validation/dist/jquery.validate.min.js"></script>
        <script type="text/javascript" src="script.js"></script>
    </head>
    <script type="text/javascript">
    var queryString = new Array();
    window.onload = function () {
        if (queryString.length == 0) {
            debugger;
            if (window.location.search.split('?').length > 1) {
                var params = window.location.search.split('?')[1].split('&');
                for (var i = 0; i < params.length; i++) {
                    var key = params[i].split('=')[0];
                    var value = decodeURIComponent(params[i].split('=')[1]);
                    queryString[key] = value;
                }
            }
        }
        if (queryString["total_price"] != null) {
            document.getElementById("t_pay").innerHTML = queryString["total_price"];
        }
    };
</script>

    <body>
        <h2>Confirm Purchase</h2>
        <h4> Total amount to pay : <text id="t_pay"></text> </h4>
        <div>
            <form name="registration" id="purchase">
                <table class="form">
                    <tr>
                        <td>
                            FIrst Name
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="text" name="fname" id="fname" placeholder="Enter your first name">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Last Name
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="text" name="lname" id="lname" placeholder="Enter your last name" required>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Email id :
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="text" name="email" id="email" placeholder="Enter  Email id">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Card Number :
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="text" name="cardnumber" id="cardnumber" placeholder="Enter Card Number">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            CVV :
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="text" name="cvv" id="cvv" placeholder="777">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Expiry Date :
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="Number" name="ex_month"> / <input type="Number" name="ex_year">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img src="visa.png" height="50px" width="50px">
                        
                            <img src="mastercard.png" height="50px" width="100px">

                        </td>
                    </tr>
                    <tr>
                        <td align="center">
                            <input class="final_submit" type="submit" name="Confirm" value="Confirm" onclick="Confirm()">
                        </td>
                    </tr>
                </table>
            </form>
        </div>
        <div>
            <center>
                <h1></h1>
                <label id="Name">
                </label>
            </center>
        </div>
    </body>
    <script>
        $(function() {
  // Initialize form validation on the registration form.
  // It has the name attribute "registration"
    $("form[name='registration']").validate({
    // Specify validation rules
    rules: {
      // The key name on the left side is the name attribute
      // of an input field. Validation rules are defined
      // on the right side
      fname: "required",
      lname: "required",
      email: {
        required: true,
        // Specify that email should be validated
        // by the built-in "email" rule
        email: true
      },
      cardnumber: {
        required: true,
        minlength: 16
      }
      cvv:{
        required:true;
        maxlength:3
      }
    },
    // Specify validation error messages
    messages: {
      firstname: "Please enter your firstname",
      lastname: "Please enter your lastname",
      cardnumber: {
        required: "Please provide a card number",
        minlength: "your card number must have 16 digit"
      },
      cvv: {
        required: "Please provide a cvv",
        minlength: "please enter 3 digit cvv number"
      },
      email: "Please enter a valid email address"
    },
    // Make sure the form is submitted to the destination defined
    // in the "action" attribute of the form when valid
    submitHandler: function(form) {
      form.submit();
      
    }
  });
});
       //get form data
        $('.final_submit').click(function(){
            alert($("#purchase").getFormData())
        })
    </script>
</html>